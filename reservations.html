<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Reservation Page</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <script src="https://code.jquery.com/jquery.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    </head>
    <body>
        <div class="container">
        <div class="jumbotron">
            <h1 class="text-center"><span class="glyphicon glyphicon-leaf"> Hidden Leaf Noodles</span></h1>
           <hr>
           <h2 class="text-center">Reserve your table here!</h2> 
           <br> 
           <div class="text-center">
               <a href="dinningtable.html"><button type="button" class="btn btn-lg btn-primary"></button><span class="glyphicon glyphicon-list-alt"></span></a>
               <a href="home.html"><button type="button" class="btn btn-lg btn-defualt"><span class="glyphicon glyhicon-home"></span></button></a>
           </div>
        </div>

        <div class="row">
            <div class="col-lg-12">

                <div class="panal panal-defualt">
                  <div class="panel-heading">
                      <h4 class="panel-title">Table Reservation</h4>
                  </div>
                  <div class="panel-body">
                      <form role="form">

                        <div class="form-group">
                            <label for="">Name</label>
                            <input type="text" class="from-control" id="customerName">
                        </div>
                        <div class="form-group">
                            <label for="">Phone Number</label>
                            <input type="text" class="form-control" id="customerPhone">
                        </div>
                        <div class="form-group">
                            <label for="">Email</label>
                            <input type="text" class="form-control" id="customerEmail">
                        </div>
                        <div class="form-group">
                            <label for="">Customer Id</label>
                            <input type="text" class="form-control" id="customerID">
                        </div>
                        <button type="submit" class="btn btn-primary submit">Submit</button>
                      </form>
                  </div>
                </div>

            </div>
        </div>
        <footer class="footer">
            <div class="container">
                <p>Control Panel</p>
                <p><a href="#" id="clear">Clear Table</a> | <a href="/api/tables">API Table Link</a> | <a
                        href="/api/waitlist">API Wait List</a></p>
            </div>
        </footer>
    </div>

    <script type="text/javascript"> 

    $(".submit").on("click", function (){ 

        var reservation = { 
            customerName: $('#customerName').val().trim(), 
            phoneNumber: $('#customerPhone').val().trim(), 
            customerEmail: $('#customerEmail').val().trim(),
            customerID: $('#customerID').val().trim()
        }; 
        console.log(reservation); 
        

        var currrentURL = window.location.origin; 
        

        $.post(currrentURL + "/api/tables", Reservation, 
        function(data){ 
            if(data === true) { 
                alert("Your table has been confirmed!")
            }

            if(data === false) {
                alert("You've been put onto the waiting-list.")
            }

            $('customerName').val(""); 
            $('customerPhone').val(""); 
            $('customerEmail').val(""); 
            $('customerID').val(""); 
        })
        return false; 
    })

    </script>
    </body>
</html>